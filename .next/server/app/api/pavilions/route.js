"use strict";(()=>{var e={};e.id=954,e.ids=[954],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5900:e=>{e.exports=require("pg")},5786:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var a={};t.r(a),t.d(a,{GET:()=>p});var o=t(9303),i=t(8716),n=t(670),s=t(7070),u=t(53);let l=[{id:1,slug:"white-hall",name:"White Hall",location:"Center, Yerevan",description:"Bright white studio with cyclorama, perfect for fashion and beauty shoots.",base_price:5e4,area_sqm:90},{id:2,slug:"dark-loft",name:"Dark Loft",location:"Center, Yerevan",description:"Atmospheric dark loft with textured walls and controlled lighting.",base_price:55e3,area_sqm:80}];async function p(){try{let e=await (0,u.I)("SELECT id, slug, name, location, description FROM pavilions ORDER BY id ASC");if(!e||0===e.rowCount)return s.NextResponse.json({pavilions:l});let r=(e?.rows||[]).map((e,r)=>{let t=l[r]||l[0];return{...e,base_price:"number"==typeof e.base_price?e.base_price:t.base_price,area_sqm:"number"==typeof e.area_sqm?e.area_sqm:t.area_sqm}});return s.NextResponse.json({pavilions:r})}catch(e){return console.error("GET /api/pavilions error:",e),s.NextResponse.json({pavilions:l})}}let c=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/pavilions/route",pathname:"/api/pavilions",filename:"route",bundlePath:"app/api/pavilions/route"},resolvedPagePath:"/Users/meritsaturyan/Desktop/anihambardzumyan/ani-hambardzumian-studios/app/api/pavilions/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h}=c,v="/api/pavilions/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},53:(e,r,t)=>{t.d(r,{I:()=>c});var a=t(5900);let{DATABASE_URL:o,PGSSL:i,NODE_ENV:n}=process.env,s="production"===n,u=!o||/USER|PASS|HOST|DB_NAME/.test(o||""),l=(o||"").includes("127.0.0.1")||(o||"").includes("localhost"),p=null;async function c(e,r=[]){if(!p){if(s)return console.warn("[db] query() called without configured pool in production. Returning empty result."),{rows:[],rowCount:0};throw Error("Database is not configured. Set a real DATABASE_URL in your .env")}let t=await p.connect();try{return await t.query(e,r)}finally{t.release()}}u||s&&l?s||console.warn("[db] DATABASE_URL is not configured or uses localhost. DB access is disabled. Set real Postgres URL in .env (например: postgres://user:pass@host:5432/ani_hambardzumian_studios)"):p=new a.Pool({connectionString:o,ssl:"true"===i&&{rejectUnauthorized:!1}})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972],()=>t(5786));module.exports=a})();