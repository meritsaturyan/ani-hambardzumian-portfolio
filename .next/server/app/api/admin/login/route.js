"use strict";(()=>{var e={};e.id=672,e.ids=[672],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},8627:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>S,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var n={};t.r(n),t.d(n,{POST:()=>p});var s=t(9303),o=t(8716),i=t(670),a=t(7070),u=t(8855);async function p(e){let r=await e.json().catch(()=>null);if(!r)return a.NextResponse.json({error:"Invalid body"},{status:400});let{username:t,password:n}=r;if(t!==process.env.ADMIN_USERNAME||n!==process.env.ADMIN_PASSWORD)return a.NextResponse.json({error:"Invalid credentials"},{status:401});try{let e=(0,u.gO)(),r=a.NextResponse.json({success:!0});return r.headers.append("Set-Cookie",(0,u.uv)(e)),r}catch(e){return console.error("POST /api/admin/login error:",e),a.NextResponse.json({error:"Failed to create session"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/login/route",pathname:"/api/admin/login",filename:"route",bundlePath:"app/api/admin/login/route"},resolvedPagePath:"/Users/meritsaturyan/Desktop/anihambardzumyan/ani-hambardzumian-studios/app/api/admin/login/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:m}=d,S="/api/admin/login/route";function x(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}},8855:(e,r,t)=>{t.d(r,{eK:()=>u,gO:()=>i,uv:()=>a});var n=t(1482),s=t(3183);let o="admin_session";function i(){let e=process.env.ADMIN_SESSION_SECRET;if(!e)throw Error("ADMIN_SESSION_SECRET is not set");return n.sign({role:"admin"},e,{expiresIn:"7d"})}function a(e){return s.serialize(o,e,{httpOnly:!0,secure:!0,sameSite:"lax",path:"/",maxAge:604800})}function u(e){let r=e.get("cookie");if(!r)return!1;let t=s.parse(r||"")[o];return!!t&&function(e){let r=process.env.ADMIN_SESSION_SECRET;if(!r)throw Error("ADMIN_SESSION_SECRET is not set");try{let t=n.verify(e,r);return t&&"admin"===t.role}catch(e){return!1}}(t)}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[948,972,696],()=>t(8627));module.exports=n})();